<h1>Rest Areas</h1>

<%= form_with url: rest_areas_path, method: :get, local: true do %>
  <label>Filter (state or route):</label>
  <%= text_field_tag :q, @q, placeholder: "e.g. IL or I-80" %>
  <%= submit_tag "Search" %>
  <% if @q.present? %>
    <%= link_to "Clear", rest_areas_path %>
  <% end %>
<% end %>

<ul>
  <% @rest_areas.each do |r| %>
    <li>
      <%= link_to (r.name.presence || "Rest Area"), rest_area_path(r) %>
      <small>
        — <%= r.state %> <%= r.highway_route %>
        <% if r.mile_post.present? %> • MP <%= r.mile_post %><% end %>
        <% if r.number_of_spots.present? %> • Spots: <%= r.number_of_spots %><% end %>
      </small>
    </li>
  <% end %>
</ul>
